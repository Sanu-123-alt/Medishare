{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ hospital.name }} - Hospital Details</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">
    <style>
        :root {
            --primary: #5A9A9A;
            --primary-light: #E9F3F3;
            --secondary: #F6F4F1;
            --text-dark: #2D3748;
            --text-light: #718096;
            --background-light: #FFFFFF;
            --background-dark: #1A202C;
        }

        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 300, 'GRAD' 0, 'opsz' 24;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: var(--background-light);
            color: var(--text-dark);
        }

        /* Navigation */
        .navbar {
            background: rgba(255, 255, 255, 0.95) !important;
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .navbar-brand {
            font-weight: 600;
            color: var(--primary) !important;
        }

        /* Hero Section */
        .hero-section {
            position: relative;
            height: 80vh;
            min-height: 600px;
            background: linear-gradient(45deg, var(--primary), #4a8a8a);
            overflow: hidden;
        }

        .slideshow-container {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
        }

        .slide {
            position: absolute;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            animation: fade 8s ease-in-out infinite;
            opacity: 0;
        }

        @keyframes fade {
          0%, 100% { opacity: 0; }
          12.5%, 25% { opacity: 1; }
          37.5%, 100% { opacity: 0; }
        }

        .slide:nth-child(1) { animation-delay: 0s; }
        .slide:nth-child(2) { animation-delay: -6s; }
        .slide:nth-child(3) { animation-delay: -4s; }
        .slide:nth-child(4) { animation-delay: -2s; }

        .hero-content {
            position: relative;
            z-index: 20;
            color: white;
            text-align: center;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 15px;
            backdrop-filter: blur(5px);
            padding: 3rem;
            margin: 2rem auto;
            max-width: 800px;
        }

        /* Cards and Sections */
        .stats-card, .doctor-card, .department-card {
            border: none;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .stats-card:hover, .doctor-card:hover, .department-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .group:hover .group-hover\:scale-105 {
            transform: scale(1.05);
        }

        /* Buttons */
        .btn-primary {
            background: var(--primary);
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 50px;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            background: #4a8a8a;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(90, 154, 154, 0.3);
        }

        /* Section Titles */
        .section-title {
            position: relative;
            margin-bottom: 3rem;
            text-align: center;
        }

        .section-title:after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 50px;
            height: 3px;
            background: var(--primary);
        }

        /* Footer */
        .footer {
            background: var(--text-dark);
            color: white;
            padding: 3rem 0;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .hero-section {
                height: 60vh;
                min-height: 400px;
            }
            
            .hero-content {
                padding: 2rem 1rem;
                margin: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center" href="{% url 'home' %}">
                <span class="material-symbols-outlined me-2">local_hospital</span>
                {{ hospital.name }}
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#home">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#departments">Departments</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#doctors">Doctors</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#services">Services</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#reviews">Reviews</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#contact">Contact</a>
                    </li>
                    <li class="nav-item ms-2">
                        <a class="btn btn-primary" href="{% url 'user_appoinment' %}?hospital={{ hospital.id }}">
                            Book Appointment
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section" id="home">
        <div class="slideshow-container">
            <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1519494026892-80bbd2d6fd0d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80')"></div>
            <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1551076805-e1869033e561?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80')"></div>
            <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1586773860418-d37222d8fce3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80')"></div>
            <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1532938911079-1b06ac7ceec7?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80')"></div>
        </div>
        <div class="position-absolute top-0 start-0 w-100 h-100 bg-dark bg-opacity-50"></div>
        <div class="container h-100 d-flex align-items-center justify-content-center">
            <div class="hero-content">
                <h1 class="display-4 fw-bold mb-4">{{ hospital.name }}</h1>
                <p class="lead mb-4">{{ hospital.description|default:"Providing World-Class Healthcare Services with Compassion and Excellence" }}</p>
                <div class="d-flex justify-content-center gap-4 flex-wrap">
                    <p class="mb-0"><i class="fas fa-map-marker-alt me-2"></i>{{ hospital.location }}</p>
                    <p class="mb-0"><i class="fas fa-phone-alt me-2"></i>{{ hospital.phone }}</p>
                    {% if hospital.email %}
                    <p class="mb-0"><i class="fas fa-envelope me-2"></i>{{ hospital.email }}</p>
                    {% endif %}
                </div>
                <div class="mt-4">
                    <a href="#contact" class="btn btn-primary btn-lg me-3">
                        <i class="fas fa-phone me-2"></i>Contact Us
                    </a>
                    <a href="{% url 'user_appoinment' %}?hospital={{ hospital.id }}" class="btn btn-outline-light btn-lg">
                        <i class="fas fa-calendar-check me-2"></i>Book Appointment
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Hospital Stats -->
    <section class="py-5 bg-light">
        <div class="container">
            <div class="row g-4">
                <div class="col-md-3 col-6">
                    <div class="card stats-card text-center h-100">
                        <div class="card-body py-4">
                            <span class="material-symbols-outlined text-primary display-6 mb-3">group</span>
                            <h3 class="fw-bold text-primary">{{ total_doctors|default:"50" }}+</h3>
                            <p class="text-muted mb-0">Expert Doctors</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 col-6">
                    <div class="card stats-card text-center h-100">
                        <div class="card-body py-4">
                            <span class="material-symbols-outlined text-success display-6 mb-3">clinical_notes</span>
                            <h3 class="fw-bold text-success">{{ total_appointments|default:"10,000" }}+</h3>
                            <p class="text-muted mb-0">Successful Treatments</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 col-6">
                    <div class="card stats-card text-center h-100">
                        <div class="card-body py-4">
                            <span class="material-symbols-outlined text-info display-6 mb-3">emergency</span>
                            <h3 class="fw-bold text-info">24/7</h3>
                            <p class="text-muted mb-0">Emergency Care</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 col-6">
                    <div class="card stats-card text-center h-100">
                        <div class="card-body py-4">
                            <span class="material-symbols-outlined text-warning display-6 mb-3">verified</span>
                            <h3 class="fw-bold text-warning">{{ hospital.years_established|default:"15" }}+</h3>
                            <p class="text-muted mb-0">Years of Service</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Departments Section -->
    <section class="py-5" id="departments">
        <div class="container">
            <h2 class="section-title">Our Departments</h2>
            <p class="text-center text-muted mb-5">Specialized care across a wide range of medical fields</p>
            <div class="row g-4">
                {% for department in departments %}
                <div class="col-md-4">
                    <div class="card department-card h-100 text-center group">
                        <div class="card-body p-4">
                            <span class="material-symbols-outlined text-primary display-1 mb-3">{{ department.icon|default:"healing" }}</span>
                            <h5 class="fw-bold">{{ department.name }}</h5>
                            <p class="text-muted">{{ department.description|default:"Comprehensive care and treatment" }}</p>
                            <a href="{% url 'user_appoinment' %}?department={{ department.id }}&hospital={{ hospital.id }}" 
                               class="btn btn-outline-primary btn-sm">
                                View Doctors
                            </a>
                        </div>
                    </div>
                </div>
                {% empty %}
                <!-- Default departments if none are provided -->
                <div class="col-md-4">
                    <div class="card department-card h-100 text-center group">
                        <div class="card-body p-4">
                            <span class="material-symbols-outlined text-primary display-1 mb-3">cardiology</span>
                            <h5 class="fw-bold">Cardiology</h5>
                            <p class="text-muted">Heart and cardiovascular care</p>
                            <a href="{% url 'user_appoinment' %}?department=cardiology&hospital={{ hospital.id }}" 
                               class="btn btn-outline-primary btn-sm">
                                View Doctors
                            </a>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card department-card h-100 text-center group">
                        <div class="card-body p-4">
                            <span class="material-symbols-outlined text-primary display-1 mb-3">neurology</span>
                            <h5 class="fw-bold">Neurology</h5>
                            <p class="text-muted">Brain and nervous system care</p>
                            <a href="{% url 'user_appoinment' %}?department=neurology&hospital={{ hospital.id }}" 
                               class="btn btn-outline-primary btn-sm">
                                View Doctors
                            </a>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card department-card h-100 text-center group">
                        <div class="card-body p-4">
                            <span class="material-symbols-outlined text-primary display-1 mb-3">pediatrics</span>
                            <h5 class="fw-bold">Pediatrics</h5>
                            <p class="text-muted">Children's healthcare</p>
                            <a href="{% url 'user_appoinment' %}?department=pediatrics&hospital={{ hospital.id }}" 
                               class="btn btn-outline-primary btn-sm">
                                View Doctors
                            </a>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>

    <!-- Doctors Section -->
    <section class="py-5 bg-light" id="doctors">
        <div class="container">
            <h2 class="section-title">Meet Our Doctors</h2>
            <p class="text-center text-muted mb-5">Our team of dedicated professionals</p>
            <div class="row g-4">
                {% for doctor in recent_doctors %}
                <div class="col-lg-3 col-md-6">
                    <div class="card doctor-card h-100 text-center group">
                        <div class="card-body p-4">
                            {% if doctor.image %}
                            <img src="{{ doctor.image.url }}" alt="{{ doctor.name }}" 
                                 class="rounded-circle mb-3 mx-auto" style="width: 120px; height: 120px; object-fit: cover;">
                            {% else %}
                            <span class="material-symbols-outlined text-primary display-1 mb-3">person</span>
                            {% endif %}
                            <h5 class="fw-bold">Dr. {{ doctor.name }}</h5>
                            <p class="text-primary fw-medium">{{ doctor.specialization }}</p>
                            {% if doctor.experience %}
                            <p class="small text-muted">{{ doctor.experience }} years experience</p>
                            {% endif %}
                            {% if doctor.qualifications %}
                            <p class="small text-muted">{{ doctor.qualifications }}</p>
                            {% endif %}
                            <a href="{% url 'user_appoinment' %}?doctor={{ doctor.id }}" 
                               class="btn btn-primary btn-sm mt-2">
                                Book Appointment
                            </a>
                        </div>
                    </div>
                </div>
                {% empty %}
                <div class="col-12 text-center">
                    <p class="text-muted">No doctors available at the moment.</p>
                </div>
                {% endfor %}
            </div>
            {% if recent_doctors %}
            <div class="text-center mt-5">
                <a href="{% url 'user_appoinment' %}?hospital={{ hospital.id }}" class="btn btn-primary">
                    View All Doctors
                </a>
            </div>
            {% endif %}
        </div>
    </section>

    <!-- Services Section -->
    <section class="py-5" id="services">
        <div class="container">
            <h2 class="section-title">Our Services</h2>
            <p class="text-center text-muted mb-5">Comprehensive healthcare services</p>
            <div class="row g-4">
                <div class="col-md-6">
                    <div class="card service-card h-100">
                        <div class="card-body d-flex align-items-start gap-4 p-4">
                            <span class="material-symbols-outlined text-primary fs-1">emergency</span>
                            <div>
                                <h5 class="fw-bold">24/7 Emergency Care</h5>
                                <p class="text-muted mb-0">Immediate medical attention when you need it most</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card service-card h-100">
                        <div class="card-body d-flex align-items-start gap-4 p-4">
                            <span class="material-symbols-outlined text-primary fs-1">science</span>
                            <div>
                                <h5 class="fw-bold">Advanced Diagnostics</h5>
                                <p class="text-muted mb-0">State-of-the-art laboratory and imaging services</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card service-card h-100">
                        <div class="card-body d-flex align-items-start gap-4 p-4">
                            <span class="material-symbols-outlined text-primary fs-1">vaccines</span>
                            <div>
                                <h5 class="fw-bold">Preventive Care</h5>
                                <p class="text-muted mb-0">Regular check-ups and vaccination services</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card service-card h-100">
                        <div class="card-body d-flex align-items-start gap-4 p-4">
                            <span class="material-symbols-outlined text-primary fs-1">support_agent</span>
                            <div>
                                <h5 class="fw-bold">Patient Support</h5>
                                <p class="text-muted mb-0">Comprehensive patient care and support services</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Reviews Section -->
    <section class="py-5 bg-light" id="reviews">
        <div class="container">
            <h2 class="section-title">Patient Reviews</h2>
            <p class="text-center text-muted mb-5">What our patients say about us</p>
            <div class="row g-4">
                {% for review in hospital_reviews %}
                <div class="col-md-4">
                    <div class="card h-100">
                        <div class="card-body">
                            <div class="d-flex align-items-center mb-3">
                                {% for i in "12345" %}
                                <span class="material-symbols-outlined text-warning" 
                                      style="font-variation-settings: 'FILL' '{% if forloop.counter <= review.rating %}1{% else %}0{% endif %};">
                                    star
                                </span>
                                {% endfor %}
                            </div>
                            <p class="text-muted mb-3">"{{ review.comment }}"</p>
                            <p class="fw-bold text-dark mb-0">- {{ review.user.fullname|default:"Anonymous" }}</p>
                            <small class="text-muted">{{ review.created_at|date:"M d, Y" }}</small>
                        </div>
                    </div>
                </div>
                {% empty %}
                <div class="col-12 text-center">
                    <p class="text-muted">No reviews yet. Be the first to review!</p>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section class="py-5" id="contact">
        <div class="container">
            <h2 class="section-title">Contact Us</h2>
            <div class="row g-5">
                <div class="col-lg-6">
                    <div class="card h-100">
                        <div class="card-body p-4">
                            <h4 class="fw-bold mb-4">Get In Touch</h4>
                            <div class="d-flex align-items-start mb-4">
                                <span class="material-symbols-outlined text-primary me-3">location_on</span>
                                <div>
                                    <h6 class="fw-bold">Address</h6>
                                    <p class="text-muted mb-0">{{ hospital.location }}</p>
                                </div>
                            </div>
                            <div class="d-flex align-items-start mb-4">
                                <span class="material-symbols-outlined text-primary me-3">call</span>
                                <div>
                                    <h6 class="fw-bold">Phone</h6>
                                    <p class="text-muted mb-0">{{ hospital.phone }}</p>
                                </div>
                            </div>
                            {% if hospital.email %}
                            <div class="d-flex align-items-start mb-4">
                                <span class="material-symbols-outlined text-primary me-3">mail</span>
                                <div>
                                    <h6 class="fw-bold">Email</h6>
                                    <p class="text-muted mb-0">{{ hospital.email }}</p>
                                </div>
                            </div>
                            {% endif %}
                            {% if hospital.working_hours %}
                            <div class="d-flex align-items-start">
                                <span class="material-symbols-outlined text-primary me-3">schedule</span>
                                <div>
                                    <h6 class="fw-bold">Working Hours</h6>
                                    <p class="text-muted mb-0">{{ hospital.working_hours }}</p>
                                </div>
                            </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="card">
                        <div class="card-body p-4">
                            <h4 class="fw-bold mb-4">Quick Appointment</h4>
                            <p class="text-muted mb-4">Book your appointment online and save time</p>
                            <a href="{% url 'user_appoinment' %}?hospital={{ hospital.id }}" 
                               class="btn btn-primary btn-lg w-100">
                                <i class="fas fa-calendar-check me-2"></i>
                                Book Appointment Now
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="row g-4">
                <div class="col-lg-4">
                    <div class="d-flex align-items-center mb-3">
                        <span class="material-symbols-outlined text-primary me-2 fs-2">local_hospital</span>
                        <h4 class="fw-bold mb-0">{{ hospital.name }}</h4>
                    </div>
                    <p class="text-light mb-0">{{ hospital.description|default:"Your Health, Our Mission." }}</p>
                </div>
                <div class="col-lg-4">
                    <h5 class="fw-bold mb-3">Quick Links</h5>
                    <div class="d-flex flex-column gap-2">
                        <a href="#home" class="text-light text-decoration-none">Home</a>
                        <a href="#departments" class="text-light text-decoration-none">Departments</a>
                        <a href="#doctors" class="text-light text-decoration-none">Doctors</a>
                        <a href="#services" class="text-light text-decoration-none">Services</a>
                        <a href="#contact" class="text-light text-decoration-none">Contact</a>
                    </div>
                </div>
                <div class="col-lg-4">
                    <h5 class="fw-bold mb-3">Emergency Contact</h5>
                    <p class="text-light mb-2">
                        <i class="fas fa-phone me-2"></i>{{ hospital.phone }}
                    </p>
                    <p class="text-light mb-0">
                        <i class="fas fa-map-marker-alt me-2"></i>{{ hospital.location }}
                    </p>
                </div>
            </div>
            <hr class="my-4 border-light">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <p class="text-light mb-0">&copy; 2024 {{ hospital.name }}. All rights reserved.</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <div class="d-flex gap-3 justify-content-md-end justify-content-start mt-2 mt-md-0">
                        <a href="#" class="text-light"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="text-light"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="text-light"><i class="fab fa-linkedin-in"></i></a>
                        <a href="#" class="text-light"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Navbar scroll behavior
        window.addEventListener('scroll', function() {
            const navbar = document.querySelector('.navbar');
            if (window.scrollY > 50) {
                navbar.style.backgroundColor = 'rgba(255, 255, 255, 0.98)';
            } else {
                navbar.style.backgroundColor = 'rgba(255, 255, 255, 0.95)';
            }
        });

        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
</body>
</html>
